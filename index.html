<!doctype html>
<html lang="ms">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pendaftaran Program Perkaderan Fuqaha Guru Takmir JAKIM</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet">
  <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 50%, #581c87 100%);
            min-height: 100vh;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        .input-modern {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .input-modern:focus {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.25);
        }
        .btn-gradient {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            transition: all 0.3s ease;
        }
        .btn-gradient:hover {
            background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
            transform: translateY(-2px);
            box-shadow: 0 20px 40px -12px rgba(59, 130, 246, 0.4);
        }
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .text-shadow {
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="min-h-screen"><!-- Background Pattern -->
  <div class="fixed inset-0 opacity-10">
   <div class="absolute inset-0" style="background-image: radial-gradient(circle at 25% 25%, white 2px, transparent 2px); background-size: 50px 50px;"></div>
  </div>
  <div class="relative z-10 min-h-screen flex flex-col"><!-- Header Section -->
   <header class="pt-6 pb-4">
    <div class="container mx-auto px-4 max-w-4xl">
     <div class="glass-card rounded-2xl p-6 text-center"><!-- Logo Section -->
      <div class="flex items-center justify-center gap-6 mb-4"><!-- Logo 1 - JAKIM -->
       <div class="w-20 h-20 flex items-center justify-center"><img src="https://i.postimg.cc/7frn73HY/image.png" alt="Logo JAKIM" class="w-full h-full object-contain" onerror="this.style.display='none';">
       </div><!-- Logo 2 - JHEAIPP -->
       <div class="w-20 h-20 flex items-center justify-center"><img src="https://i.postimg.cc/xk8vYgR8/image.png" alt="Logo JHEAIPP" class="w-full h-full object-contain" onerror="this.style.display='none';">
       </div>
      </div><!-- Title -->
      <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2 text-shadow leading-tight">Program Perkaderan Fuqaha<br><span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"> Guru Takmir JAKIM </span></h1><!-- Subtitle -->
      <p class="text-lg text-gray-600 mb-6 font-medium">November 2025 ‚Ä¢ Zon Utara ‚Ä¢ Siri 08/2025</p><!-- Info Cards -->
      <div class="grid md:grid-cols-3 gap-4">
       <div class="bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4 border border-emerald-200">
        <div class="w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center mx-auto mb-3">
         <svg class="w-5 h-5 text-white" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
         </svg>
        </div>
        <h3 class="font-bold text-emerald-800 text-base mb-1">22-24 November 2025</h3>
        <p class="text-emerald-600 text-xs">(Sabtu - Isnin)</p>
       </div>
       <div class="bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4 border border-amber-200">
        <div class="w-10 h-10 bg-amber-500 rounded-lg flex items-center justify-center mx-auto mb-3">
         <svg class="w-5 h-5 text-white" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
         </svg>
        </div>
        <h3 class="font-bold text-amber-800 text-base mb-1">8:45 AM - 5:30 PM</h3>
        <p class="text-amber-600 text-xs">Waktu Malaysia</p>
       </div>
       <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200">
        <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-3">
         <svg class="w-5 h-5 text-white" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
         </svg>
        </div>
        <h3 class="font-bold text-purple-800 text-base mb-1">Video Conference</h3>
        <p class="text-purple-600 text-xs">Google Meet &amp; Live Facebook</p>
       </div>
      </div>
     </div>
    </div>
   </header><!-- Main Content -->
   <main class="flex-1 py-8">
    <div class="container mx-auto px-4 max-w-2xl">
     <div class="glass-card rounded-3xl p-8"><!-- Form Header -->
      <div class="text-center mb-8">
       <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4">
        <svg class="w-8 h-8 text-white" fill="currentColor" viewbox="0 0 20 20"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" /> <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a2 2 0 002 2h6a2 2 0 002-2V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd" />
        </svg>
       </div>
       <h2 class="text-3xl font-bold text-gray-800 mb-2">Borang Pendaftaran</h2>
       <p class="text-gray-600">Sila lengkapkan maklumat di bawah untuk mendaftar</p>
      </div><!-- Registration Form -->
      <form id="registrationForm" class="space-y-6"><!-- Nama -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> Nama Peserta (Huruf Besar) * </label> <input type="text" id="nama" name="nama" required placeholder="MASUKKAN NAMA PENUH ANDA" class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl input-modern focus:border-blue-500 focus:outline-none bg-white/80 text-lg font-medium uppercase" style="text-transform: uppercase;">
       </div><!-- IC -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> No Kad Pengenalan * </label> <input type="text" id="ic" name="ic" required placeholder="850008-xx-xxxx" pattern="[0-9]{6}-[0-9]{2}-[0-9]{4}" class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl input-modern focus:border-blue-500 focus:outline-none bg-white/80 text-lg">
        <p class="text-sm text-gray-500 mt-2">Contoh: 850008-14-1234</p>
       </div><!-- Phone -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> No Telefon Bimbit * </label> <input type="tel" id="telefon" name="telefon" required placeholder="01X-XXXXXXX" class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl input-modern focus:border-blue-500 focus:outline-none bg-white/80 text-lg">
       </div><!-- District -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> Daerah * </label> <input type="text" id="daerah" name="daerah" required placeholder="MASUKKAN DAERAH ANDA" class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl input-modern focus:border-blue-500 focus:outline-none bg-white/80 text-lg">
       </div><!-- State -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> Negeri * </label> <select id="negeri" name="negeri" required class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl input-modern focus:border-blue-500 focus:outline-none bg-white/80 text-lg"> <option value="">PILIH NEGERI</option> <option value="PULAU PINANG">PULAU PINANG</option> <option value="PERAK">PERAK</option> <option value="KEDAH">KEDAH</option> <option value="PERLIS">PERLIS</option> </select>
       </div><!-- Email -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> E-mel * </label> <input type="email" id="email" name="email" required placeholder="nama@email.com" class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl input-modern focus:border-blue-500 focus:outline-none bg-white/80 text-lg">
       </div><!-- Siri -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> Siri * </label> <input type="text" id="siri" name="siri" required value="08/2025" readonly class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl bg-gray-100 text-lg font-medium text-gray-700">
       </div><!-- Tarikh -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> Tarikh Program * </label> <input type="text" id="tarikh" name="tarikh" required value="22-24 November 2025" readonly class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl bg-gray-100 text-lg font-medium text-gray-700">
       </div><!-- Attendance -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-4"> Saya akan menghadiri dengan jayanya program ini * </label>
        <div class="flex gap-8"><label class="flex items-center cursor-pointer"> <input type="radio" name="kehadiran" value="YA" required class="w-5 h-5 text-blue-600 border-2 border-gray-300 focus:ring-blue-500"> <span class="ml-3 text-lg font-medium text-gray-700">Ya</span> </label> <label class="flex items-center cursor-pointer"> <input type="radio" name="kehadiran" value="TIDAK" required class="w-5 h-5 text-blue-600 border-2 border-gray-300 focus:ring-blue-500"> <span class="ml-3 text-lg font-medium text-gray-700">Tidak</span> </label>
        </div>
       </div><!-- Comments -->
       <div><label class="block text-sm font-semibold text-gray-700 mb-3"> Komen (Pilihan) </label> <textarea id="komen" name="komen" rows="4" placeholder="Masukkan komen atau catatan tambahan..." class="w-full px-4 py-4 border-2 border-gray-200 rounded-2xl input-modern focus:border-blue-500 focus:outline-none bg-white/80 text-lg resize-none"></textarea>
       </div><!-- Submit Button -->
       <div class="pt-6"><button type="submit" class="w-full btn-gradient text-white font-bold py-4 px-8 rounded-2xl text-lg shadow-lg relative overflow-hidden group"> <span class="relative z-10 flex items-center justify-center">
          <svg class="w-6 h-6 mr-3" fill="currentColor" viewbox="0 0 20 20"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
          </svg> Hantar Pendaftaran </span> </button>
       </div>
      </form>
     </div>
    </div>
   </main><!-- Success Message -->
   <div id="successMessage" class="hidden container mx-auto px-4 max-w-2xl pb-8">
    <div class="bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-6">
     <div class="flex items-center">
      <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4">
       <svg class="w-6 h-6 text-white" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
       </svg>
      </div>
      <div>
       <h4 class="text-xl font-bold text-green-800 mb-1">Pendaftaran Berjaya!</h4>
       <p class="text-green-700">Terima kasih kerana mendaftar. Maklumat pendaftaran anda telah diterima dengan jayanya.</p>
      </div>
     </div>
    </div>
   </div><!-- Government Footer -->
   <footer class="bg-gray-900 text-white mt-12">
    <div class="container mx-auto px-4 py-8"><!-- Main Footer Content -->
     <div class="mb-8"><!-- Department Info -->
      <div class="text-center">
       <div class="text-center mb-4">
        <h3 class="text-lg font-bold">JHEAIPP</h3>
        <p class="text-sm text-gray-300">Jabatan Hal Ehwal Agama Islam Negeri Pulau Pinang</p>
       </div>
       <div class="text-sm text-gray-300 space-y-1">
        <p>Lebuh Pantai, 10300 Pulau Pinang</p>
        <p class="mt-2"><span class="font-medium">Tel:</span> 04-684 7000<br><span class="font-medium">Faks:</span> 04-684 7777<br><span class="font-medium">E-mel:</span> jheaipp@penang.gov.my</p>
       </div>
      </div>
     </div><!-- Bottom Footer -->
     <div class="border-t border-gray-700 pt-6">
      <div class="text-center text-sm text-gray-400 mb-4">
       <p>¬© 2025 Jabatan Hal Ehwal Agama Islam Negeri Pulau Pinang (JHEAIPP). Hak Cipta Terpelihara.</p>
       <p class="mt-1">Sistem Pendaftaran Program Perkaderan Fuqaha Guru Takmir</p>
       <div class="mt-3"><span class="px-3 py-1 bg-gray-800 rounded-full text-xs"> Sokongan Teknikal: it.jheaipp@gmail.com </span>
       </div>
      </div><!-- System Info -->
      <div class="text-center">
       <h4 class="text-sm font-bold mb-3 text-gray-300">Maklumat Sistem</h4>
       <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-xs text-gray-400">
        <div><span class="block text-gray-500">Versi</span> <span class="font-mono text-blue-300">v2.1.0</span>
        </div>
        <div><span class="block text-gray-500">Build</span> <span class="font-mono text-blue-300">20250115</span>
        </div>
        <div><span class="block text-gray-500">Status</span> <span class="text-green-400 font-medium">‚óè Aktif</span>
        </div>
        <div><span class="block text-gray-500">Kemaskini</span> <span class="font-medium">15 Jan 2025</span>
        </div>
       </div>
      </div>
     </div>
    </div>
   </footer>
  </div>
  <script>
        // Format IC number input
        document.getElementById('ic').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 6) {
                value = value.substring(0, 6) + '-' + value.substring(6);
            }
            if (value.length >= 9) {
                value = value.substring(0, 9) + '-' + value.substring(9, 13);
            }
            e.target.value = value;
        });

        // Format phone number
        document.getElementById('telefon').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 3) {
                value = value.substring(0, 3) + '-' + value.substring(3);
            }
            e.target.value = value;
        });

        // Auto uppercase for name field
        document.getElementById('nama').addEventListener('input', function(e) {
            e.target.value = e.target.value.toUpperCase();
        });

        // Handle form submission
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading state
            const submitBtn = document.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<span class="flex items-center justify-center"><svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Menghantar...</span>';
            submitBtn.disabled = true;
            
            // Get form data
            const formData = new FormData(this);
            const data = {};
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            // Validate IC format
            const icPattern = /^[0-9]{6}-[0-9]{2}-[0-9]{4}$/;
            if (!icPattern.test(data.ic)) {
                alert('Sila masukkan No Kad Pengenalan dalam format yang betul: XXXXXX-XX-XXXX');
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                return;
            }
            
            // Add timestamp
            data.timestamp = new Date().toLocaleString('ms-MY', {
                timeZone: 'Asia/Kuala_Lumpur',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            
            // Send to Google Sheets
            sendToGoogleSheets(data)
                .then(() => {
                    // Show success message
                    document.querySelector('main').style.display = 'none';
                    document.getElementById('successMessage').classList.remove('hidden');
                    document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Maaf, terdapat masalah semasa menghantar pendaftaran. Sila cuba lagi.');
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                });
        });

        // Function to send data to Google Sheets
        function sendToGoogleSheets(data) {
            return new Promise((resolve, reject) => {
                console.log('üöÄ Menghantar data ke Google Sheets:', data);
                
                // **URL WEB APP GOOGLE SHEETS ANDA**
                const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw5uOopvTY94XEfWBDqMGfuAFxB_rtp7TnxIM2zl6tbBYj3hNgECXoXZGEhYL82nAIS/exec';
                
                // Check if URL is properly set
                if (GOOGLE_SCRIPT_URL === 'MASUKKAN_URL_ANDA_DI_SINI') {
                    alert('‚ö†Ô∏è SETUP BELUM LENGKAP!\n\nSila sambung dengan Google Sheets terlebih dahulu.');
                    reject(new Error('URL belum ditetapkan'));
                    return;
                }
                
                // Create URL with parameters
                const params = new URLSearchParams();
                for (const key in data) {
                    params.append(key, data[key]);
                }
                
                const urlWithParams = `${GOOGLE_SCRIPT_URL}?${params.toString()}`;
                
                // Send data
                fetch(urlWithParams, {
                    method: 'GET',
                    mode: 'no-cors'
                })
                .then(() => {
                    console.log('‚úÖ Data telah dihantar ke Google Sheets');
                    resolve(true);
                })
                .catch(() => {
                    // Fallback method
                    const img = new Image();
                    img.onload = img.onerror = () => {
                        console.log('‚úÖ Data telah dihantar ke Google Sheets (fallback)');
                        resolve(true);
                    };
                    img.src = urlWithParams;
                });
            });
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a0db1d0d5d9e41e',t:'MTc2MzUzNDIwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>